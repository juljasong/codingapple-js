<!--
    ## JS 라이브러리 넣는 위치 : <body> 태그 끝나기 바로 전. 페이지 로드 성능 때문. 설치한 곳 하단에서 라이브러리 사용 가능
    ## CSS 파일은 하단에 있을수록 우선 적용
    # One-Way UI 애니메이션 만드는 법
        1. 시작 스타일
        2. 최종 스타일
        3. 원할 때 최종스타일로 변하도록 명령
        4. transition 추가

    document.getElementsByClassName('navbar-toggler')[0] // className으로 요소 찾아줌

    document.querySelector('.list-group') // 지정자는 css 셀렉터랑 동일. 맨 위에 있는 요소만 찾아줌
    document.querySelectorAll('.list-group')[0] // 모든 요소 찾아줌. 인덱스 필요

    document.getElementsByClassName('list-group')[0].classList.toggle('show') // clasList에 show가 있으면 없애고, show가 없으면 붙여줌

    truty 자료형 : 0 제외 숫자, '문자', [], {}
    falsy 자료형 : 0, '', null, undefined, NaN

    ## 변수
    var : 재선언 가능, 재할당 가능, function-scoped
    let : 재선언 불가, 재할당 가능, {block-scoped}
    const : 재선언 불가, 재할당 불가(-> 상수), {block-scoped}

    ## 특정 시간 후/마다 실행하기 
    setTimeout(() => {}, 1000);  -- 1초 후 실행
    setInterval(() => {}, 1000); -- 1초 마다 실행
    clearTimeout();  -- timeout 속성 지우기
    clearInterval(); -- interval 속성 지우기

    ## 정규식
    'text'.includes('e'); -- 특정 문자가 포함되어 있는지
    /regex/.test('text')  -- 정규식 테스트 

    ## 이동 애니메이션
    transition: all 1s;
    vh, vw : 반응형 타겟 요소의 너비값, 높이값 지정 가능
    translate(값) : 이동

    ## 스크롤
    window.scrollTo(0, 100); 100px 아래로 스크롤
    window.scrollBy(0, 100); 현재 위치에서 100px 아래로 스크롤
    scrollY, scrollX : 스크롤 위치
    document.querySelector('selector').scrollTop; // 스크롤한 양
    document.querySelector('selector').scrollHeight; // 실제 높이
    document.querySelector('selector').clientHeight; // 실제 보이는 높이

    document.querySelector('html') == document.documentElement

    ## 이벤트 버블링 : 이벤트가 상위 html 로 퍼지는 현상
    - 모든 브라우저에서 발생

    ## 유용한 이벤트 관련 함수들
    e.target : 유저가 실제로 누른 것
    e.currentTarget == this : 이벤트 리스너 달린 곳
    e.preventDefault() : 기본 동작(ex. submit) 막기
    e.stopPropagation() : 이벤트 버블링 막기

-->

<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css">
</head>

<body>

    <div class="black-bg">
        <div class="white-bg">
            로그인 하세요.
            <form action="success.html" onsubmit="return false">
                <div class="my-3">
                    <input type="text" class="form-control" id="id" name="id">
                </div>
                <div class="my-3">
                    <input type="password" class="form-control" id="password" name="password">
                </div>
                <button type="submit" class="btn btn-primary" id="send">전송</button>
                <button type="button" class="btn btn-danger" id="close">닫기</button>
            </form>
        </div>
    </div>


    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <span class="navbar-brand">JSShop</span>
            <span class="badge bg-dark" id="dark-btn">Dark 🔄</span>
            <button class="navbar-toggler" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <ul class="list-group">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A fourth item</li>
        <li class="list-group-item">And a fifth one</li>
    </ul>

    <div class="main-bg">
        <h4>Shirts On Sale</h4>
        <button id="modal-btn" class="btn btn-danger">로그인</button>
    </div>

    <div class="lorem" style="width: 200px; height: 100px; overflow-y: scroll;">
        황금시대의 영락과 생의 있는 교향악이다. 것이다.보라, 커다란 천고에 꽃이 힘있다. 뜨거운지라, 아니더면, 위하여, 얼마나 생명을 가지에 오아이스도 사막이다. 군영과 낙원을 같이, 청춘에서만 동력은
        우리 보라. 사라지지 것은 가지에 눈이 새 눈에 얼음과 끓는다. 주는 그들의 찾아 뜨거운지라, 곳이 위하여 인생에 사는가 것이다. 아니한 찾아 낙원을 같이 살았으며, 원대하고, 새 철환하였는가? 이는
        무엇을 대고, 밥을 심장은 힘차게 것이다. 인간은 보배를 우리 못하다 만천하의 끓는다.
        <br />
        풍부하게 이상의 희망의 피어나는 새 운다. 아름답고 심장의 같이 청춘이 주는 든 품으며, 이 듣는다. 피에 구하기 품에 말이다. 인생을 원대하고, 바로 할지니, 가슴에 긴지라 시들어 끓는다. 뭇 그들은
        가지에 온갖 있는 돋고, 미묘한 만물은 것이다. 날카로우나 청춘이 청춘을 놀이 철환하였는가? 이것을 꾸며 바로 황금시대의 피가 청춘은 힘차게 우리 말이다. 끓는 있으며, 전인 인간의 얼음에 사라지지
        봄바람이다. 기쁘며, 사는가 부패를 것이다. 이상은 바이며, 사람은 커다란 싶이 두기 새가 그들은 소금이라 것이다. 그들에게 이 가진 위하여 새 놀이 열락의 우는 있는가?
        <br />
        이상, 얼마나 끓는 싹이 이상 실로 풀이 그들을 피가 철환하였는가? 끝에 크고 앞이 트고, 시들어 소담스러운 있는가? 청춘을 불어 그들의 것이다. 대한 피가 그들의 이상이 못할 착목한는 하는 가치를
        못할 아니다. 청춘의 눈에 가슴에 오직 청춘 내려온 부패뿐이다. 청춘에서만 것이다.보라, 온갖 평화스러운 보이는 것이다. 거선의 위하여, 무엇을 것은 싹이 때에, 아름다우냐? 없으면 것이 새가 밥을
        두기 무한한 쓸쓸하랴? 뜨고, 피는 스며들어 미인을 이것이다. 든 무한한 피가 장식하는 약동하다. 장식하는 실현에 풀밭에 청춘 듣는다.
    </div>

    <div class="alert alert-danger">
        <span id="cnt">5</span>초 이내 구매시 사은품 증정!
    </div>

    <!--Carousel-->
    <div style="overflow: hidden;">
        <div class="slide-container">
            <div class="slide-box">
                <img src="/img/car1.png">
            </div>
            <div class="slide-box">
                <img src="/img/car2.png">
            </div>
            <div class="slide-box">
                <img src="/img/car3.png">
            </div>
        </div>
    </div>
    <button class="slide-lt">&lt;</button>
    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="slide-gt">&gt;</button>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>

    <script>
        let cnt = 5;
        let clickCnt = 0;
        let slideNow = 0;

        document.querySelector('.black-bg').addEventListener('click', (e) => {
            e.target.classList.remove('show-modal');
        });

        document.querySelector('.lorem').addEventListener('scroll', () => {
            let scroll = document.querySelector('.lorem').scrollTop; // 스크롤한 양
            let height = document.querySelector('.lorem').scrollHeight; // 실제 높이
            let clientHeight = document.querySelector('.lorem').clientHeight + 20; // 실제 보이는 높이

            if (scroll + clientHeight > height) alert('Perfect!');
        });

        window.addEventListener('scroll', () => {
            if (window.scrollY >= '100') document.querySelector('.navbar-brand').style.fontSize = '15px';
            else document.querySelector('.navbar-brand').style.fontSize = '30px';
        });

        $('.slide-lt').on('click', () => {
            slideNow = slideNow - 1 < 0 ? 0 : slideNow - 1;
            document.querySelector('.slide-container').style.transform = `translateX(-${slideNow}00vw)`;
        });

        $('.slide-1').on('click', () => {
            slideNow = 0;
            document.querySelector('.slide-container').style.transform = `translateX(-${slideNow}00vw)`;
        });

        $('.slide-2').on('click', () => {
            slideNow = 1;
            document.querySelector('.slide-container').style.transform = `translateX(-${slideNow}00vw)`;
        });

        $('.slide-3').on('click', () => {
            slideNow = 2;
            document.querySelector('.slide-container').style.transform = `translateX(-${slideNow}00vw)`;
        });

        $('.slide-gt').on('click', () => {
            slideNow = slideNow + 1 > 2 ? 2 : slideNow + 1;
            document.querySelector('.slide-container').style.transform = `translateX(-${slideNow}00vw)`;
        });


        // includes
        console.log('includes: ' + 'abc'.includes('a')); // true
        //정규식
        console.log('test: ' + /a/.test('abcd'));
        console.log('email test: ' + /[\S+@\S+.\S+]/.test('aaa@bbb.ccc'));



        // 3초 후
        setTimeout(() => {
            document.getElementsByClassName('alert')[0].style.display = 'none';
            clearTimeout(interval);
        }, 5000);

        // 3초 마다
        const interval = setInterval(() => {
            document.getElementById('cnt').innerText = --cnt;
            console.log(cnt);
        }, 1000);


        document.querySelector('#dark-btn').addEventListener('click', () => {
            if (++clickCnt % 2 == 0) {
                document.querySelector('#dark-btn').innerText = 'Dark 🔄';
                document.querySelector('body').classList.remove('dark');
                document.querySelector('.navbar').classList.remove('navbar-dark', 'bg-dark');
                document.querySelector('.navbar').classList.add('navbar-light', 'bg-light');
            } else { // 다크모드일 때
                document.querySelector('#dark-btn').innerText = 'Light 🔄';
                document.querySelector('body').classList.add('dark');
                document.querySelector('.navbar').classList.remove('navbar-light', 'bg-light');
                document.querySelector('.navbar').classList.add('navbar-dark', 'bg-dark');
            }
            console.log('clickCnt = ' + clickCnt)
        });



        document.querySelector('form').addEventListener('submit', () => {
            var id = document.getElementById('id').value;
            var password = document.getElementById('password').value;

            if (id == '') alert('아이디를 입력 해 주세요.');
            if (!/\S+@\S+.\S+/.test(id)) alert('이메일 형식의 아이디를 입력 해 주세요.');

            if (password == '') {
                alert('비밀번호를 입력 해 주세요.');
            } else {
                if (password.length < 6) alert('비밀번호는 6글자 이상으로 입력 해 주세요.');
                if (!/[A-Z]/.test(password)) alert('대문자가 적어도 1개 있어야 합니다.');
            }
        });

        document.getElementById('id').addEventListener('change', () => { // input(값이 바뀔 때 마다) == change(값이 바뀌고 focus가 옮겨지면)
            console.log(document.getElementById('id').value);
        });


        //document.querySelector('.hello').innerHTML = '안녕하세요.';
        $('.hello').html('안녕하세요.');
        $('.hello').css('color', 'blue');
        //$('.hello').addClass('display-none');
        //$('.hello').removeClass('display-none');
        $('#modal-btn').on('click', () => {
            $('.black-bg').addClass('show-modal');
        });

        document.querySelector('#close').addEventListener('click', () => {
            document.querySelector('.black-bg').classList.remove('show-modal');
        });

    </script>
</body>

</html>